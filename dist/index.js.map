{"version":3,"file":"index.js","sources":["../src/model-cache.js","../src/onnx-web-framework.js","../src/worker-types.js","../src/worker-proxy.js","../src/tokenizer.js","../src/index.js"],"sourcesContent":["/**\n * æ¨¡å‹ç¼“å­˜ç®¡ç†å™¨\n * ä½¿ç”¨IndexedDBç¼“å­˜æ¨¡å‹æ–‡ä»¶ï¼Œæ”¯æŒHTTP Rangeè¯·æ±‚\n */\n\nclass ModelCache {\n  constructor() {\n    this.dbName = 'ONNXModelCache';\n    this.dbVersion = 1;\n    this.storeName = 'models';\n    this.db = null;\n  }\n\n  /**\n   * åˆå§‹åŒ–ç¼“å­˜æ•°æ®åº“\n   */\n  async init() {\n    return new Promise((resolve, reject) => {\n      const request = indexedDB.open(this.dbName, this.dbVersion);\n\n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => {\n        this.db = request.result;\n        resolve();\n      };\n\n      request.onupgradeneeded = (event) => {\n        const db = event.target.result;\n        if (!db.objectStoreNames.contains(this.storeName)) {\n          const store = db.createObjectStore(this.storeName, { keyPath: 'url' });\n          store.createIndex('timestamp', 'timestamp', { unique: false });\n          store.createIndex('etag', 'etag', { unique: false });\n        }\n      };\n    });\n  }\n\n  /**\n   * æ£€æŸ¥æ¨¡å‹æ˜¯å¦å·²ç¼“å­˜\n   */\n  async isCached(url) {\n    if (!this.db) await this.init();\n\n    return new Promise((resolve) => {\n      const transaction = this.db.transaction([this.storeName], 'readonly');\n      const store = transaction.objectStore(this.storeName);\n      const request = store.get(url);\n\n      request.onsuccess = () => {\n        const cached = request.result;\n        if (!cached) {\n          resolve(null);\n          return;\n        }\n\n        // æ£€æŸ¥ç¼“å­˜æ˜¯å¦è¿‡æœŸï¼ˆ24å°æ—¶ï¼‰\n        const maxAge = 24 * 60 * 60 * 1000; // 24å°æ—¶\n        if (Date.now() - cached.timestamp > maxAge) {\n          this.removeFromCache(url);\n          resolve(null);\n          return;\n        }\n\n        resolve(cached);\n      };\n\n      request.onerror = () => resolve(null);\n    });\n  }\n\n  /**\n   * è·å–æ¨¡å‹æ–‡ä»¶ï¼Œæ”¯æŒHTTP Rangeè¯·æ±‚\n   */\n  async getModel(url) {\n    try {\n      // é¦–å…ˆæ£€æŸ¥ç¼“å­˜\n      const cached = await this.isCached(url);\n      if (cached) {\n        console.log(`ğŸ“¦ Loading model from cache: ${url}`);\n        return cached.data;\n      }\n\n      console.log(`â¬‡ï¸  Fetching model from network: ${url}`);\n\n      // æ£€æŸ¥æ˜¯å¦æ”¯æŒRangeè¯·æ±‚\n      const headResponse = await fetch(url, { method: 'HEAD' });\n      const supportsRange = headResponse.headers.get('Accept-Ranges') === 'bytes';\n      const contentLength = headResponse.headers.get('Content-Length');\n      const etag = headResponse.headers.get('ETag');\n\n      let modelArray;\n\n      if (supportsRange && contentLength && parseInt(contentLength) > 10 * 1024 * 1024) {\n        // å¤§æ–‡ä»¶ä½¿ç”¨åˆ†å—ä¸‹è½½\n        modelArray = await this.downloadInChunks(url, contentLength);\n      } else {\n        // å°æ–‡ä»¶ç›´æ¥ä¸‹è½½\n        const response = await fetch(url);\n        if (!response.ok) {\n          throw new Error(`Failed to fetch model: ${response.statusText}`);\n        }\n        modelArray = await response.arrayBuffer();\n      }\n\n      // ç¼“å­˜æ¨¡å‹\n      await this.cacheModel(url, modelArray, etag);\n\n      return modelArray;\n    } catch (error) {\n      console.error(`Failed to get model ${url}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * åˆ†å—ä¸‹è½½å¤§æ–‡ä»¶\n   */\n  async downloadInChunks(url, contentLength) {\n    const chunkSize = 1024 * 1024; // 1MB chunks\n    const chunks = [];\n    let downloaded = 0;\n\n    console.log(`ğŸ“¥ Downloading large model in chunks (${Math.ceil(contentLength / chunkSize)} chunks)`);\n\n    for (let start = 0; start < contentLength; start += chunkSize) {\n      const end = Math.min(start + chunkSize - 1, contentLength - 1);\n      const range = `bytes=${start}-${end}`;\n\n      const response = await fetch(url, {\n        headers: { Range: range }\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to download chunk ${range}: ${response.statusText}`);\n      }\n\n      const chunk = await response.arrayBuffer();\n      chunks.push(chunk);\n      downloaded += chunk.byteLength;\n\n      // æ›´æ–°è¿›åº¦\n      const progress = (downloaded / contentLength * 100).toFixed(1);\n      console.log(`â³ Download progress: ${progress}% (${downloaded}/${contentLength} bytes)`);\n    }\n\n    // åˆå¹¶æ‰€æœ‰å—\n    const totalSize = chunks.reduce((sum, chunk) => sum + chunk.byteLength, 0);\n    const modelArray = new Uint8Array(totalSize);\n    let offset = 0;\n\n    for (const chunk of chunks) {\n      modelArray.set(new Uint8Array(chunk), offset);\n      offset += chunk.byteLength;\n    }\n\n    return modelArray;\n  }\n\n  /**\n   * ç¼“å­˜æ¨¡å‹æ–‡ä»¶\n   */\n  async cacheModel(url, data, etag = null) {\n    if (!this.db) await this.init();\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db.transaction([this.storeName], 'readwrite');\n      const store = transaction.objectStore(this.storeName);\n\n      const modelRecord = {\n        url,\n        data,\n        timestamp: Date.now(),\n        etag,\n        size: data.byteLength || data.length\n      };\n\n      const request = store.put(modelRecord);\n      request.onsuccess = () => resolve();\n      request.onerror = () => reject(request.error);\n    });\n  }\n\n  /**\n   * ä»ç¼“å­˜ä¸­ç§»é™¤æ¨¡å‹\n   */\n  async removeFromCache(url) {\n    if (!this.db) await this.init();\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db.transaction([this.storeName], 'readwrite');\n      const store = transaction.objectStore(this.storeName);\n      const request = store.delete(url);\n\n      request.onsuccess = () => resolve();\n      request.onerror = () => reject(request.error);\n    });\n  }\n\n  /**\n   * æ¸…ç†è¿‡æœŸç¼“å­˜\n   */\n  async cleanup() {\n    if (!this.db) await this.init();\n\n    const maxAge = 24 * 60 * 60 * 1000; // 24å°æ—¶\n    const cutoffTime = Date.now() - maxAge;\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db.transaction([this.storeName], 'readwrite');\n      const store = transaction.objectStore(this.storeName);\n      const index = store.index('timestamp');\n      const request = index.openCursor(IDBKeyRange.upperBound(cutoffTime));\n\n      request.onsuccess = (event) => {\n        const cursor = event.target.result;\n        if (cursor) {\n          cursor.delete();\n          cursor.continue();\n        } else {\n          resolve();\n        }\n      };\n\n      request.onerror = () => reject(request.error);\n    });\n  }\n\n  /**\n   * è·å–ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯\n   */\n  async getStats() {\n    if (!this.db) await this.init();\n\n    return new Promise((resolve) => {\n      const transaction = this.db.transaction([this.storeName], 'readonly');\n      const store = transaction.objectStore(this.storeName);\n      const request = store.getAll();\n\n      request.onsuccess = () => {\n        const models = request.result;\n        const totalSize = models.reduce((sum, model) => sum + (model.size || 0), 0);\n        const stats = {\n          count: models.length,\n          totalSize,\n          models: models.map(model => ({\n            url: model.url,\n            size: model.size,\n            timestamp: model.timestamp,\n            age: Date.now() - model.timestamp\n          }))\n        };\n        resolve(stats);\n      };\n\n      request.onerror = () => resolve({ count: 0, totalSize: 0, models: [] });\n    });\n  }\n}\n\nexport default ModelCache;","/**\n * ONNX Web Framework\n * åŸºäºONNX Runtime Webæ„å»ºï¼Œæ”¯æŒæ¨¡å‹ç¼“å­˜\n */\n\nimport ModelCache from './model-cache.js';\n\n// ç¡®ä¿ortåœ¨å…¨å±€å¯ç”¨\n// æµè§ˆå™¨ç¯å¢ƒï¼šé€šè¿‡ <script> æ ‡ç­¾åŠ è½½ UMD ç‰ˆæœ¬\n// Node.jsç¯å¢ƒï¼šé€šè¿‡ npm install onnxruntime-web å®‰è£…ï¼ˆéœ€è¦æ„å»ºå·¥å…·å¤„ç†ï¼‰\nlet ort = null;\n\n// æ£€æŸ¥å…¨å±€ ortï¼ˆé€šè¿‡ script æ ‡ç­¾åŠ è½½çš„ UMD ç‰ˆæœ¬ï¼‰\nif (typeof globalThis !== 'undefined' && globalThis.ort && globalThis.ort.InferenceSession) {\n  ort = globalThis.ort;\n  console.log('âœ… ä½¿ç”¨å…¨å±€ ort (UMD ç‰ˆæœ¬)');\n} else {\n  // å¦‚æœæ²¡æœ‰å…¨å±€ ortï¼Œå°è¯•ä½¿ç”¨å·²å¯¼å…¥çš„æ¨¡å—ï¼ˆæ„å»ºæ—¶ä¼šå¤„ç†ï¼‰\n  // æ³¨æ„ï¼šè¿™è¦æ±‚ onnxruntime-web åœ¨æ„å»ºæ—¶è¢«æ­£ç¡®æ‰“åŒ…æˆ–æ ‡è®°ä¸º external\n  try {\n    // è®¿é—®å¤–éƒ¨ä¾èµ–ï¼ˆç”±æ„å»ºå·¥å…·å¤„ç†ï¼‰\n    ort = globalThis.ort;\n    if (!ort) {\n      throw new Error('ort not available');\n    }\n  } catch (error) {\n    throw new Error(\n      'ONNX Runtime Web æœªæ­£ç¡®åŠ è½½ã€‚\\n\\n' +\n      'æµè§ˆå™¨ç¯å¢ƒï¼šè¯·åœ¨ HTML ä¸­æ·»åŠ :\\n' +\n      '  <script src=\"https://cdn.jsdelivr.net/npm/onnxruntime-web@1.18.0/dist/ort.min.js\"></script>\\n\\n' +\n      'Node.jsç¯å¢ƒï¼šè¯·è¿è¡Œ:\\n' +\n      '  npm install onnxruntime-web'\n    );\n  }\n}\n\nclass ONNXWebFramework {\n  constructor(options = {}) {\n    this.options = {\n      // ç¼“å­˜é…ç½®\n      enableCache: options.enableCache !== false, // é»˜è®¤å¯ç”¨ç¼“å­˜\n      cacheMaxAge: options.cacheMaxAge || 24 * 60 * 60 * 1000, // 24å°æ—¶\n\n      // ORTé…ç½®\n      executionProviders: options.executionProviders || ['wasm'],\n      enableProfiling: options.enableProfiling || false,\n      debug: options.debug || false,\n      logLevel: options.logLevel || 'warning',\n      numThreads: options.numThreads || 0,\n\n      // WASMè·¯å¾„é…ç½®ï¼ˆå¯é€‰ï¼Œé»˜è®¤è®©æ‰“åŒ…å·¥å…·è‡ªåŠ¨å¤„ç†ï¼‰\n      // åªæœ‰åœ¨éœ€è¦è‡ªå®šä¹‰è·¯å¾„æ—¶æ‰è®¾ç½®ä¸ºå­—ç¬¦ä¸²\n      wasmPaths: options.wasmPaths || null,\n\n      // é¢„å¤„ç†å’Œåå¤„ç†é’©å­\n      preprocessors: options.preprocessors || {}, // { modelName: (rawInput) => tensor }\n      postprocessors: options.postprocessors || {}, // { modelName: (output) => processedOutput }\n\n      ...options\n    };\n\n    // ç¼“å­˜å’Œæ¨¡å‹\n    this.modelCache = new ModelCache();\n    this.models = new Map();\n    this.isInitialized = false;\n\n    // é¢„å¤„ç†å’Œåå¤„ç†å™¨æ³¨å†Œè¡¨\n    this.preprocessors = new Map(); // modelName -> function\n    this.postprocessors = new Map(); // modelName -> function\n\n    // åˆå§‹åŒ–é¢„é…ç½®çš„å¤„ç†å™¨\n    for (const [modelName, processor] of Object.entries(this.options.preprocessors)) {\n      this.preprocessors.set(modelName, processor);\n    }\n    for (const [modelName, processor] of Object.entries(this.options.postprocessors)) {\n      this.postprocessors.set(modelName, processor);\n    }\n  }\n\n  /**\n   * åˆå§‹åŒ–æ¡†æ¶\n   */\n  async initialize() {\n    try {\n      console.log('ğŸš€ Initializing ONNX Web Framework...');\n\n      // ä¸è®¾ç½® wasmPathsï¼Œè®©æ‰“åŒ…å·¥å…·è‡ªåŠ¨å¤„ç†\n      // å¦‚éœ€è‡ªå®šä¹‰è·¯å¾„ï¼Œå¯é€šè¿‡ options.wasmPaths ä¼ å…¥\n      if (this.options.wasmPaths && typeof this.options.wasmPaths === 'string') {\n        ort.env.wasm.wasmPaths = this.options.wasmPaths;\n        console.log(`ğŸ“ Using custom WASM paths: ${this.options.wasmPaths}`);\n      } else {\n        console.log('ğŸ“ Using default WASM loader (bundle tool will handle it)');\n      }\n\n      // åˆå§‹åŒ–ç¼“å­˜\n      if (this.options.enableCache) {\n        await this.modelCache.init();\n        await this.modelCache.cleanup();\n        console.log('âœ… Model cache initialized');\n      }\n\n      this.isInitialized = true;\n      console.log('âœ… ONNX Web Framework initialized successfully');\n\n      // æ‰“å°ç¼“å­˜ç»Ÿè®¡\n      if (this.options.enableCache) {\n        const stats = await this.modelCache.getStats();\n        console.log(`ğŸ“Š Cache stats: ${stats.count} models, ${(stats.totalSize / 1024 / 1024).toFixed(2)}MB`);\n      }\n\n    } catch (error) {\n      console.error('âŒ Failed to initialize framework:', error);\n      throw error;\n    }\n  }\n\n\n  /**\n   * åŠ è½½æ¨¡å‹\n   */\n  async loadModel(name, modelSource, sessionOptions = {}) {\n    if (!this.isInitialized) {\n      throw new Error('Framework not initialized. Call initialize() first.');\n    }\n\n    console.log(`ğŸ“¦ Loading model '${name}'...`);\n\n    try {\n      // è·å–æ¨¡å‹æ•°æ®\n      let modelArray;\n      let modelFormat = 'unknown';\n\n      if (typeof modelSource === 'string') {\n        // ä¼˜å…ˆå°è¯•ORTæ ¼å¼\n        const ortSource = modelSource.replace(/\\.onnx$/, '.ort');\n\n        try {\n          modelArray = await this.modelCache.getModel(ortSource);\n          modelFormat = 'ort';\n          console.log(`âœ… Using ORT format model: ${ortSource}`);\n        } catch (ortError) {\n          // å›é€€åˆ°ONNXæ ¼å¼\n          console.log(`âš ï¸  ORT format not available, using ONNX format`);\n          modelArray = await this.modelCache.getModel(modelSource);\n          modelFormat = 'onnx';\n        }\n      } else if (modelSource instanceof Uint8Array || modelSource instanceof ArrayBuffer) {\n        modelArray = modelSource;\n        modelFormat = 'array';\n      } else {\n        throw new Error('Invalid model source. Must be URL, Uint8Array, or ArrayBuffer.');\n      }\n\n      // åœ¨ä¸»çº¿ç¨‹åŠ è½½æ¨¡å‹\n      console.log('âš ï¸  Loading model in main thread (UI may be blocked during inference)');\n      const finalOptions = {\n        executionProviders: sessionOptions.executionProviders || this.options.executionProviders,\n        enableProfiling: sessionOptions.enableProfiling || this.options.enableProfiling,\n        ...sessionOptions\n      };\n\n      const session = await ort.InferenceSession.create(modelArray, finalOptions);\n\n      // ä¿å­˜æ¨¡å‹ä¿¡æ¯\n      this.models.set(name, {\n        session,\n        modelFormat,\n        modelPath: modelSource,\n        inputNames: session.inputNames,\n        outputNames: session.outputNames\n      });\n\n      console.log(`âœ… Model '${name}' loaded successfully (${modelFormat})`);\n      return {\n        modelName: name,\n        loaded: true,\n        inputNames: session.inputNames,\n        outputNames: session.outputNames\n      };\n\n    } catch (error) {\n      console.error(`âŒ Failed to load model '${name}':`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * æ‰§è¡Œæ¨ç†\n   */\n  async run(modelName, feeds) {\n    if (!this.isInitialized) {\n      throw new Error('Framework not initialized. Call initialize() first.');\n    }\n\n    const model = this.models.get(modelName);\n    if (!model) {\n      throw new Error(`Model '${modelName}' not loaded`);\n    }\n\n    try {\n      // åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œæ¨ç†\n      const result = await model.session.run(feeds);\n      return result;\n\n    } catch (error) {\n      console.error(`âŒ Failed to run inference with model '${modelName}':`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * æ‰§è¡Œæ¨ç†ï¼ˆå¸¦é¢„å¤„ç†å’Œåå¤„ç†ï¼‰\n   * è¿™æ˜¯ä¸€ä¸ªé«˜çº§ APIï¼Œä¼šè‡ªåŠ¨è°ƒç”¨æ³¨å†Œçš„é¢„å¤„ç†å™¨å’Œåå¤„ç†å™¨\n   *\n   * @param {string} modelName - æ¨¡å‹åç§°\n   * @param {*} rawInput - åŸå§‹è¾“å…¥ï¼ˆå¦‚æ–‡æœ¬ã€å›¾åƒç­‰ï¼‰\n   * @param {object} options - é€‰é¡¹\n   * @returns {Promise<*>} å¤„ç†åçš„è¾“å‡º\n   */\n  async predict(modelName, rawInput, options = {}) {\n    if (!this.isInitialized) {\n      throw new Error('Framework not initialized. Call initialize() first.');\n    }\n\n    const model = this.models.get(modelName);\n    if (!model) {\n      throw new Error(`Model '${modelName}' not loaded`);\n    }\n\n    try {\n      console.log(`ğŸ”® Running prediction with model '${modelName}'...`);\n\n      // 1. é¢„å¤„ç†\n      let feeds;\n      const preprocessor = this.preprocessors.get(modelName);\n\n      if (preprocessor) {\n        console.log('âš™ï¸  Running preprocessor...');\n        feeds = await preprocessor(rawInput, options);\n      } else {\n        console.warn(`âš ï¸  No preprocessor registered for '${modelName}', assuming input is preprocessed`);\n        // å‡è®¾è¾“å…¥å·²ç»æ˜¯å¤„ç†å¥½çš„ tensor æ ¼å¼\n        feeds = rawInput;\n      }\n\n      // 2. è¿è¡Œæ¨ç†\n      const results = await this.run(modelName, feeds);\n\n      // 3. åå¤„ç†\n      const postprocessor = this.postprocessors.get(modelName);\n      let processedResults;\n\n      if (postprocessor) {\n        console.log('âš™ï¸  Running postprocessor...');\n        processedResults = await postprocessor(results, options);\n      } else {\n        console.warn(`âš ï¸  No postprocessor registered for '${modelName}', returning raw output`);\n        processedResults = results;\n      }\n\n      console.log('âœ… Prediction completed');\n      return processedResults;\n\n    } catch (error) {\n      console.error(`âŒ Prediction failed for model '${modelName}':`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * é¢„å¤„ç†è¾“å…¥æ•°æ®\n   */\n  async preprocessInput(model, rawData, preprocessOptions) {\n    const processed = {};\n\n    for (const [inputName, inputMeta] of Object.entries(model.inputMetadata)) {\n      let inputTensor;\n\n      if (rawData instanceof HTMLImageElement || rawData instanceof HTMLCanvasElement) {\n        // å›¾åƒé¢„å¤„ç†\n        inputTensor = await this.preprocessImage(rawData, inputMeta, preprocessOptions);\n      } else if (Array.isArray(rawData) || rawData instanceof Float32Array) {\n        // æ•°ç»„æ•°æ®\n        inputTensor = {\n          data: rawData,\n          shape: preprocessOptions.resize || inputMeta.shape || [1, rawData.length]\n        };\n      } else if (typeof rawData === 'object' && rawData[inputName]) {\n        // å·²ç»æ˜¯å¤„ç†è¿‡çš„å¯¹è±¡\n        inputTensor = rawData[inputName];\n      } else {\n        throw new Error(`Unsupported input data type for '${inputName}'`);\n      }\n\n      processed[inputName] = inputTensor;\n    }\n\n    return processed;\n  }\n\n  /**\n   * å›¾åƒé¢„å¤„ç†\n   */\n  async preprocessImage(image, inputMeta, options) {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n\n    // è°ƒæ•´å°ºå¯¸\n    const targetSize = options.resize || [224, 224];\n    canvas.width = targetSize[1];\n    canvas.height = targetSize[0];\n\n    // ç»˜åˆ¶å›¾åƒ\n    ctx.drawImage(image, 0, 0, canvas.width, canvas.height);\n\n    // è·å–åƒç´ æ•°æ®\n    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    const pixels = imageData.data;\n\n    // è½¬æ¢ä¸ºæ¨¡å‹æ‰€éœ€çš„æ ¼å¼\n    const isRGB = options.colorFormat === 'rgb';\n    const normalize = options.normalization || 'zeroToOne';\n    const channels = isRGB ? 3 : 4; // RGBæˆ–RGBA\n    const data = new Float32Array(canvas.width * canvas.height * channels);\n\n    for (let i = 0, j = 0; i < pixels.length; i += 4, j += channels) {\n      // RGBé€šé“\n      if (isRGB) {\n        data[j] = pixels[i] / 255;     // R\n        data[j + 1] = pixels[i + 1] / 255; // G\n        data[j + 2] = pixels[i + 2] / 255; // B\n      } else {\n        data[j] = pixels[i] / 255;     // R\n        data[j + 1] = pixels[i + 1] / 255; // G\n        data[j + 2] = pixels[i + 2] / 255; // B\n        data[j + 3] = pixels[i + 3] / 255; // A\n      }\n    }\n\n    return {\n      data,\n      shape: [1, channels, canvas.height, canvas.width] // NCHWæ ¼å¼\n    };\n  }\n\n  /**\n   * è·å–æ¨¡å‹ä¿¡æ¯\n   */\n  getModelInfo(modelName) {\n    return this.models.get(modelName);\n  }\n\n  /**\n   * åˆ—å‡ºå·²åŠ è½½çš„æ¨¡å‹\n   */\n  listModels() {\n    return Array.from(this.models.keys());\n  }\n\n  /**\n   * å¸è½½æ¨¡å‹\n   */\n  async unloadModel(modelName) {\n    const model = this.models.get(modelName);\n    if (model && model.session) {\n      await model.session.release();\n    }\n    this.models.delete(modelName);\n    console.log(`ğŸ—‘ï¸  Model '${modelName}' unloaded`);\n  }\n\n  /**\n   * è·å–ç¼“å­˜ç»Ÿè®¡\n   */\n  async getCacheStats() {\n    if (!this.options.enableCache) {\n      return { enabled: false };\n    }\n\n    return await this.modelCache.getStats();\n  }\n\n  /**\n   * æ¸…ç†ç¼“å­˜\n   */\n  async clearCache() {\n    if (!this.options.enableCache) {\n      return;\n    }\n\n    await this.modelCache.cleanup();\n    console.log('ğŸ§¹ Cache cleared');\n  }\n\n  /**\n   * æ³¨å†Œé¢„å¤„ç†å™¨\n   * @param {string} modelName - æ¨¡å‹åç§°\n   * @param {function} processor - é¢„å¤„ç†å‡½æ•° (rawInput) => feeds\n   */\n  registerPreprocessor(modelName, processor) {\n    this.preprocessors.set(modelName, processor);\n    console.log(`âœ… Preprocessor registered for '${modelName}'`);\n  }\n\n  /**\n   * æ³¨å†Œåå¤„ç†å™¨\n   * @param {string} modelName - æ¨¡å‹åç§°\n   * @param {function} processor - åå¤„ç†å‡½æ•° (output) => processedOutput\n   */\n  registerPostprocessor(modelName, processor) {\n    this.postprocessors.set(modelName, processor);\n    console.log(`âœ… Postprocessor registered for '${modelName}'`);\n  }\n\n  /**\n   * å–æ¶ˆæ³¨å†Œé¢„å¤„ç†å™¨\n   * @param {string} modelName - æ¨¡å‹åç§°\n   */\n  unregisterPreprocessor(modelName) {\n    this.preprocessors.delete(modelName);\n    console.log(`ğŸ—‘ï¸  Preprocessor unregistered for '${modelName}'`);\n  }\n\n  /**\n   * å–æ¶ˆæ³¨å†Œåå¤„ç†å™¨\n   * @param {string} modelName - æ¨¡å‹åç§°\n   */\n  unregisterPostprocessor(modelName) {\n    this.postprocessors.delete(modelName);\n    console.log(`ğŸ—‘ï¸  Postprocessor unregistered for '${modelName}'`);\n  }\n\n  /**\n   * æ¸…ç†æ‰€æœ‰èµ„æº\n   */\n  async dispose() {\n    // æ¸…ç†Worker\n    if (this.workerManager) {\n      await this.workerManager.dispose();\n      this.workerManager = null;\n    }\n\n    // æ¸…ç†æ¨¡å‹\n    this.models.clear();\n\n    console.log('ğŸ§¹ ONNX Web Framework disposed');\n  }\n}\n\nexport default ONNXWebFramework;","/**\n * ONNX Web Worker ç±»å‹å®šä¹‰\n *\n * å®šä¹‰ Worker å’Œä¸»çº¿ç¨‹ä¹‹é—´çš„æ¶ˆæ¯åè®®\n */\n\n/**\n * Worker æ¶ˆæ¯ç±»å‹æšä¸¾\n */\nexport const WorkerMessageType = {\n  INITIALIZE: \"initialize\",\n  LOAD_MODEL: \"load_model\",\n  RUN_INFERENCE: \"run_inference\",\n  DISPOSE: \"dispose\",\n  RESULT: \"result\",\n  ERROR: \"error\",\n};\n\n/**\n * åˆå§‹åŒ–é…ç½®\n */\nexport class InitializeConfig {\n  constructor(options = {}) {\n    /**\n     * WASM æ–‡ä»¶è·¯å¾„é…ç½®\n     * @type {string | Record<string, string>}\n     */\n    this.wasmPaths = options.wasmPaths || null;\n\n    /**\n     * çº¿ç¨‹æ•°é‡ï¼ˆ0 = ä½¿ç”¨é»˜è®¤å€¼ï¼‰\n     * @type {number}\n     */\n    this.numThreads = options.numThreads || 0;\n\n    /**\n     * æ˜¯å¦å¯ç”¨æ€§èƒ½åˆ†æ\n     * @type {boolean}\n     */\n    this.enableProfiling = options.enableProfiling || false;\n\n    /**\n     * æ‰§è¡Œæä¾›è€…åˆ—è¡¨\n     * @type {string[]}\n     */\n    this.executionProviders = options.executionProviders || [\"wasm\"];\n  }\n}\n\n/**\n * å¼ é‡æ•°æ®\n */\nexport class TensorData {\n  constructor(data, dims, type = \"float32\") {\n    /**\n     * å¼ é‡æ•°æ®ï¼ˆFloat32Array | Int32Array | Uint8Array | BigInt64Arrayï¼‰\n     */\n    this.data = data;\n\n    /**\n     * å¼ é‡ç»´åº¦\n     * @type {number[]}\n     */\n    this.dims = dims;\n\n    /**\n     * æ•°æ®ç±»å‹\n     * @type {'float32' | 'int32' | 'uint8' | 'int64'}\n     */\n    this.type = type;\n  }\n}\n\n/**\n * åŠ è½½æ¨¡å‹è¯·æ±‚\n */\nexport class LoadModelRequest {\n  constructor(id, modelName, modelBuffer, sessionOptions = {}) {\n    /**\n     * è¯·æ±‚ ID\n     * @type {string}\n     */\n    this.id = id;\n\n    /**\n     * è¯·æ±‚ç±»å‹\n     * @type {string}\n     */\n    this.type = WorkerMessageType.LOAD_MODEL;\n\n    /**\n     * æ¨¡å‹åç§°\n     * @type {string}\n     */\n    this.modelName = modelName;\n\n    /**\n     * æ¨¡å‹æ•°æ®ï¼ˆArrayBufferï¼‰\n     * @type {ArrayBuffer}\n     */\n    this.modelBuffer = modelBuffer;\n\n    /**\n     * Session é…ç½®é€‰é¡¹\n     * @type {Object}\n     */\n    this.sessionOptions = sessionOptions;\n  }\n}\n\n/**\n * æ¨ç†è¯·æ±‚\n */\nexport class RunInferenceRequest {\n  constructor(id, modelName, inputs) {\n    /**\n     * è¯·æ±‚ ID\n     * @type {string}\n     */\n    this.id = id;\n\n    /**\n     * è¯·æ±‚ç±»å‹\n     * @type {string}\n     */\n    this.type = WorkerMessageType.RUN_INFERENCE;\n\n    /**\n     * æ¨¡å‹åç§°\n     * @type {string}\n     */\n    this.modelName = modelName;\n\n    /**\n     * è¾“å…¥å¼ é‡å­—å…¸\n     * @type {Record<string, TensorData>}\n     */\n    this.inputs = inputs;\n  }\n}\n\n/**\n * Worker å“åº”\n */\nexport class WorkerResponse {\n  constructor(id, type, data = null, error = null) {\n    /**\n     * å“åº” IDï¼ˆå¯¹åº”è¯·æ±‚ IDï¼‰\n     * @type {string}\n     */\n    this.id = id;\n\n    /**\n     * å“åº”ç±»å‹\n     * @type {string}\n     */\n    this.type = type;\n\n    /**\n     * å“åº”æ•°æ®\n     * @type {any}\n     */\n    this.data = data;\n\n    /**\n     * é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æœæœ‰ï¼‰\n     * @type {string | null}\n     */\n    this.error = error;\n  }\n}\n\n/**\n * æ¨¡å‹ä¿¡æ¯\n */\nexport class ModelInfo {\n  constructor(modelName, inputNames, outputNames) {\n    /**\n     * æ¨¡å‹åç§°\n     * @type {string}\n     */\n    this.modelName = modelName;\n\n    /**\n     * è¾“å…¥åç§°åˆ—è¡¨\n     * @type {string[]}\n     */\n    this.inputNames = inputNames;\n\n    /**\n     * è¾“å‡ºåç§°åˆ—è¡¨\n     * @type {string[]}\n     */\n    this.outputNames = outputNames;\n  }\n}\n","/**\n * ONNX Worker Proxy\n *\n * å°è£… Worker é€šä¿¡ï¼Œæä¾› Promise API\n * ä½¿ç”¨ Proxy æ¨¡å¼è®©è°ƒç”¨ Worker å°±åƒè°ƒç”¨æœ¬åœ°å‡½æ•°ä¸€æ ·ç®€å•\n *\n * ä½¿ç”¨ç¤ºä¾‹:\n * ```javascript\n * import workerUrl from 'onnx-web-framework/worker?worker&url'\n * import { createOnnxWorkerProxy } from 'onnx-web-framework'\n *\n * const worker = new Worker(workerUrl, { type: 'module' })\n * const proxy = createOnnxWorkerProxy(worker)\n *\n * await proxy.initialize({ wasmPaths: '/wasm/' })\n * await proxy.loadModel('model', modelBuffer)\n * const result = await proxy.run('model', inputs)\n * ```\n */\n\nimport {\n  WorkerMessageType,\n  InitializeConfig,\n  LoadModelRequest,\n  RunInferenceRequest,\n  WorkerResponse\n} from './worker-types.js';\n\n/**\n * ONNX Worker ä»£ç†ç±»\n *\n * å°è£… Worker é€šä¿¡ï¼Œæä¾› Promise API\n */\nexport class ONNXWorkerProxy {\n  /**\n   * æ„é€ å‡½æ•°\n   *\n   * @param {Worker} worker - Web Worker å®ä¾‹\n   */\n  constructor(worker) {\n    /**\n     * Web Worker å®ä¾‹\n     * @type {Worker}\n     * @private\n     */\n    this.worker = worker;\n\n    /**\n     * è¯·æ±‚ ID è®¡æ•°å™¨\n     * @type {number}\n     * @private\n     */\n    this.requestId = 0;\n\n    /**\n     * å¾…å¤„ç†çš„è¯·æ±‚ Map\n     * @type {Map<number, {resolve: Function, reject: Function, timeout: number}>}\n     * @private\n     */\n    this.pendingRequests = new Map();\n\n    /**\n     * é»˜è®¤è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰\n     * @type {number}\n     * @private\n     */\n    this.defaultTimeout = 60000; // 60ç§’\n\n    /**\n     * æ˜¯å¦å·²é‡Šæ”¾\n     * @type {boolean}\n     * @private\n     */\n    this.isDisposed = false;\n\n    // ç»‘å®šæ¶ˆæ¯å¤„ç†å™¨\n    this.worker.onmessage = this._handleMessage.bind(this);\n\n    // ç»‘å®šé”™è¯¯å¤„ç†å™¨\n    this.worker.onerror = this._handleError.bind(this);\n  }\n\n  /**\n   * å¤„ç† Worker æ¶ˆæ¯\n   * @private\n   *\n   * @param {MessageEvent<WorkerResponse>} e - æ¶ˆæ¯äº‹ä»¶\n   */\n  _handleMessage(e) {\n    if (this.isDisposed) return;\n\n    const res = e.data;\n    const pending = this.pendingRequests.get(res.id);\n\n    if (!pending) {\n      console.warn(`[WorkerProxy] æ²¡æœ‰æ‰¾åˆ° ID ä¸º ${res.id} çš„å¾…å¤„ç†è¯·æ±‚`);\n      return;\n    }\n\n    // æ¸…ç†è¶…æ—¶å®šæ—¶å™¨\n    if (pending.timeout) {\n      clearTimeout(pending.timeout);\n    }\n\n    // ä»å¾…å¤„ç†åˆ—è¡¨ä¸­ç§»é™¤\n    this.pendingRequests.delete(res.id);\n\n    // å¤„ç†å“åº”\n    if (res.type === WorkerMessageType.ERROR || res.error) {\n      pending.reject(new Error(res.error || 'Unknown error'));\n    } else {\n      pending.resolve(res.data);\n    }\n  }\n\n  /**\n   * å¤„ç† Worker é”™è¯¯\n   * @private\n   *\n   * @param {ErrorEvent} e - é”™è¯¯äº‹ä»¶\n   */\n  _handleError(e) {\n    console.error('[WorkerProxy] Worker é”™è¯¯:', e.message, e);\n\n    // æ‹’ç»æ‰€æœ‰å¾…å¤„ç†çš„è¯·æ±‚\n    for (const [id, pending] of this.pendingRequests.entries()) {\n      if (pending.timeout) {\n        clearTimeout(pending.timeout);\n      }\n      pending.reject(new Error(`Worker error: ${e.message}`));\n    }\n\n    this.pendingRequests.clear();\n  }\n\n  /**\n   * å‘é€è¯·æ±‚åˆ° Worker\n   * @private\n   *\n   * @param {string} type - è¯·æ±‚ç±»å‹\n   * @param {Object} data - è¯·æ±‚æ•°æ®\n   * @param {number} timeout - è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰\n   * @returns {Promise<any>}\n   */\n  async _request(type, data = {}, timeout = null) {\n    if (this.isDisposed) {\n      throw new Error('WorkerProxy has been disposed');\n    }\n\n    const id = ++this.requestId;\n    const reqTimeout = timeout || this.defaultTimeout;\n\n    return new Promise((resolve, reject) => {\n      // åˆ›å»ºè¶…æ—¶å®šæ—¶å™¨\n      const timeoutId = setTimeout(() => {\n        this.pendingRequests.delete(id);\n        reject(new Error(`Request timeout: ${type} (${reqTimeout}ms)`));\n      }, reqTimeout);\n\n      // ä¿å­˜å¾…å¤„ç†è¯·æ±‚\n      this.pendingRequests.set(id, {\n        resolve,\n        reject,\n        timeout: timeoutId\n      });\n\n      // å‘é€æ¶ˆæ¯åˆ° Worker\n      try {\n        this.worker.postMessage({\n          id,\n          type,\n          ...data\n        });\n      } catch (error) {\n        // å‘é€å¤±è´¥ï¼Œç«‹å³æ¸…ç†\n        clearTimeout(timeoutId);\n        this.pendingRequests.delete(id);\n        reject(error);\n      }\n    });\n  }\n\n  /**\n   * åˆå§‹åŒ– Worker\n   *\n   * @param {Partial<InitializeConfig>} config - åˆå§‹åŒ–é…ç½®\n   * @returns {Promise<void>}\n   *\n   * @example\n   * await proxy.initialize({\n   *   wasmPaths: 'https://cdn.jsdelivr.net/npm/onnxruntime-web@1.18.0/dist/',\n   *   numThreads: 4\n   * })\n   */\n  async initialize(config = {}) {\n    const initConfig = new InitializeConfig(config);\n    await this._request(WorkerMessageType.INITIALIZE, { config: initConfig });\n    console.log('[WorkerProxy] âœ… Worker åˆå§‹åŒ–å®Œæˆ');\n  }\n\n  /**\n   * åŠ è½½æ¨¡å‹\n   *\n   * @param {string} modelName - æ¨¡å‹åç§°ï¼ˆç”¨äºåç»­å¼•ç”¨ï¼‰\n   * @param {ArrayBuffer} modelBuffer - æ¨¡å‹æ•°æ®ï¼ˆArrayBufferï¼‰\n   * @param {Object} sessionOptions - Session é…ç½®é€‰é¡¹\n   * @returns {Promise<{modelName: string, inputNames: string[], outputNames: string[]}>}\n   *\n   * @example\n   * const modelResponse = await fetch('/models/model.onnx')\n   * const modelBuffer = await modelResponse.arrayBuffer()\n   * const info = await proxy.loadModel('my-model', modelBuffer)\n   * console.log('è¾“å…¥:', info.inputNames)\n   * console.log('è¾“å‡º:', info.outputNames)\n   */\n  async loadModel(modelName, modelBuffer, sessionOptions = {}) {\n    if (!modelName) {\n      throw new Error('modelName is required');\n    }\n    if (!modelBuffer) {\n      throw new Error('modelBuffer is required');\n    }\n\n    const result = await this._request(WorkerMessageType.LOAD_MODEL, {\n      modelName,\n      modelBuffer,\n      sessionOptions\n    });\n\n    console.log(`[WorkerProxy] âœ… æ¨¡å‹ '${modelName}' åŠ è½½æˆåŠŸ`);\n    return result;\n  }\n\n  /**\n   * è¿è¡Œæ¨ç†\n   *\n   * @param {string} modelName - æ¨¡å‹åç§°\n   * @param {Record<string, TensorData>} inputs - è¾“å…¥å¼ é‡å­—å…¸\n   * @returns {Promise<Record<string, TensorData>>} è¾“å‡ºå¼ é‡å­—å…¸\n   *\n   * @example\n   * const result = await proxy.run('my-model', {\n   *   input: {\n   *     data: new Float32Array([1, 2, 3]),\n   *     dims: [1, 3],\n   *     type: 'float32'\n   *   }\n   * })\n   */\n  async run(modelName, inputs) {\n    if (!modelName) {\n      throw new Error('modelName is required');\n    }\n    if (!inputs || Object.keys(inputs).length === 0) {\n      throw new Error('inputs is required');\n    }\n\n    return await this._request(WorkerMessageType.RUN_INFERENCE, {\n      modelName,\n      inputs\n    });\n  }\n\n  /**\n   * é‡Šæ”¾ Worker èµ„æº\n   *\n   * @returns {Promise<void>}\n   *\n   * @example\n   * await proxy.dispose()\n   */\n  async dispose() {\n    if (this.isDisposed) {\n      console.warn('[WorkerProxy] å·²ç»é‡Šæ”¾è¿‡äº†');\n      return;\n    }\n\n    console.log('[WorkerProxy] æ­£åœ¨é‡Šæ”¾...');\n\n    // å‘é€é‡Šæ”¾æ¶ˆæ¯\n    try {\n      await this._request(WorkerMessageType.DISPOSE, {}, 5000);\n    } catch (error) {\n      console.warn('[WorkerProxy] é‡Šæ”¾æ¶ˆæ¯å‘é€å¤±è´¥:', error);\n    }\n\n    // æ¸…ç†æ‰€æœ‰å¾…å¤„ç†è¯·æ±‚\n    for (const [id, pending] of this.pendingRequests.entries()) {\n      if (pending.timeout) {\n        clearTimeout(pending.timeout);\n      }\n      pending.reject(new Error('Worker disposed'));\n    }\n\n    this.pendingRequests.clear();\n\n    // ç»ˆæ­¢ Worker\n    this.worker.terminate();\n\n    // æ ‡è®°ä¸ºå·²é‡Šæ”¾\n    this.isDisposed = true;\n\n    console.log('[WorkerProxy] âœ… é‡Šæ”¾å®Œæˆ');\n  }\n\n  /**\n   * æ£€æŸ¥ Worker æ˜¯å¦å·²é‡Šæ”¾\n   *\n   * @returns {boolean}\n   */\n  get disposed() {\n    return this.isDisposed;\n  }\n}\n\n/**\n * åˆ›å»º ONNX Worker ä»£ç†\n *\n * è¿™æ˜¯æ¨èçš„åˆ›å»º Worker Proxy çš„æ–¹å¼\n *\n * @param {Worker} worker - Web Worker å®ä¾‹\n * @returns {ONNXWorkerProxy} Worker ä»£ç†å®ä¾‹\n *\n * @example\n * // Vite é¡¹ç›®\n * import workerUrl from 'onnx-web-framework/worker?worker&url'\n * import { createOnnxWorkerProxy } from 'onnx-web-framework'\n *\n * const worker = new Worker(workerUrl, { type: 'module' })\n * const proxy = createOnnxWorkerProxy(worker)\n *\n * await proxy.initialize()\n * await proxy.loadModel('model', modelBuffer)\n * const result = await proxy.run('model', inputs)\n */\nexport function createOnnxWorkerProxy(worker) {\n  return new ONNXWorkerProxy(worker);\n}\n\n// é»˜è®¤å¯¼å‡º\nexport default ONNXWorkerProxy;\n","/**\n * Tokenizer åŠ è½½å™¨å’Œå·¥å…·ç±»\n *\n * æ”¯æŒä» URL åŠ è½½ tokenizer é…ç½®ï¼Œå¹¶æä¾›ç»Ÿä¸€çš„åˆ†è¯æ¥å£\n */\n\n/**\n * Tokenizer åŸºç¡€æ¥å£\n * æ‰€æœ‰ tokenizer æ’ä»¶éƒ½éœ€è¦å®ç°è¿™ä¸ªæ¥å£\n */\nexport class ITokenizer {\n  /**\n   * ç¼–ç ï¼šå°†æ–‡æœ¬è½¬æ¢ä¸º tokens\n   * @param {string} text - è¾“å…¥æ–‡æœ¬\n   * @returns {{ids: number[], attentionMask: number[], typeIds: number[]}}\n   */\n  encode(text) {\n    throw new Error('encode() must be implemented by subclass');\n  }\n\n  /**\n   * è§£ç ï¼šå°† tokens è½¬æ¢å›æ–‡æœ¬\n   * @param {number[]} ids - token IDs\n   * @returns {string}\n   */\n  decode(ids) {\n    throw new Error('decode() must be implemented by subclass');\n  }\n\n  /**\n   * è·å–è¯æ±‡è¡¨å¤§å°\n   * @returns {number}\n   */\n  get vocabSize() {\n    throw new Error('vocabSize getter must be implemented by subclass');\n  }\n}\n\n/**\n * JSON Tokenizerï¼ˆHuggingFace æ ¼å¼ï¼‰\n * æ”¯æŒä» tokenizer.json åŠ è½½\n */\nexport class JSONTokenizer extends ITokenizer {\n  constructor(config) {\n    super();\n    this.config = config;\n    this.vocab = config.model?.vocab || {};\n    this.merges = config.model?.merges || [];\n    this.addedTokens = config.added_tokens || [];\n    this._buildTrie();\n  }\n\n  /**\n   * æ„å»º Trie æ ‘ç”¨äºå¿«é€ŸæŸ¥æ‰¾\n   * @private\n   */\n  _buildTrie() {\n    this.trie = {};\n    for (const [token, id] of Object.entries(this.vocab)) {\n      let node = this.trie;\n      for (const char of token) {\n        if (!node[char]) node[char] = {};\n        node = node[char];\n      }\n      node._end = id;\n    }\n  }\n\n  /**\n   * ç¼–ç æ–‡æœ¬\n   * @param {string} text\n   * @returns {{ids: number[], attentionMask: number[], typeIds: number[]}}\n   */\n  encode(text) {\n    // ç®€åŒ–çš„ BPE å®ç°ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ tokenizers.jsï¼‰\n    const tokens = this._bpeEncode(text);\n    const ids = tokens.map(t => this.vocab[t] || this.vocab['<unk>']);\n\n    return {\n      ids,\n      attentionMask: ids.map(() => 1),\n      typeIds: ids.map(() => 0)\n    };\n  }\n\n  /**\n   * BPE ç¼–ç ï¼ˆç®€åŒ–ç‰ˆï¼‰\n   * @private\n   */\n  _bpeEncode(text) {\n    // è¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„å®ç°\n    // å®é™…ä½¿ç”¨æ—¶å»ºè®®é›†æˆ tokenizers.js æˆ– @nlpjs/bpe\n    const words = text.split(/\\s+/);\n    const tokens = [];\n\n    for (const word of words) {\n      // ç®€å•çš„å­—ç¬¦çº§åˆ†è¯ä½œä¸º fallback\n      if (this.vocab[word] !== undefined) {\n        tokens.push(word);\n      } else {\n        // æŒ‰å­—ç¬¦åˆ‡åˆ†\n        for (const char of word) {\n          if (this.vocab[char] !== undefined) {\n            tokens.push(char);\n          }\n        }\n      }\n    }\n\n    return tokens;\n  }\n\n  /**\n   * è§£ç  token IDs\n   * @param {number[]} ids\n   * @returns {string}\n   */\n  decode(ids) {\n    const idToToken = Object.fromEntries(\n      Object.entries(this.vocab).map(([k, v]) => [v, k])\n    );\n    return ids.map(id => idToToken[id] || '<unk>').join(' ');\n  }\n\n  get vocabSize() {\n    return Object.keys(this.vocab).length;\n  }\n}\n\n/**\n * Tokenizer åŠ è½½å™¨\n * ä» URL æˆ–æœ¬åœ°è·¯å¾„åŠ è½½ tokenizer é…ç½®\n */\nexport class TokenizerLoader {\n  constructor() {\n    this.cache = new Map();\n  }\n\n  /**\n   * ä» URL åŠ è½½ tokenizer\n   * @param {string} url - tokenizer.json æˆ– tokenizer.txt çš„ URL\n   * @param {object} options - åŠ è½½é€‰é¡¹\n   * @returns {Promise<ITokenizer>}\n   */\n  async loadFromUrl(url, options = {}) {\n    const { useCache = true, format = 'auto' } = options;\n\n    // æ£€æŸ¥ç¼“å­˜\n    if (useCache && this.cache.has(url)) {\n      return this.cache.get(url);\n    }\n\n    console.log(`ğŸ“¥ Loading tokenizer from: ${url}`);\n\n    try {\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error(`Failed to load tokenizer: ${response.statusText}`);\n      }\n\n      const text = await response.text();\n      let tokenizer;\n\n      // æ£€æµ‹æ ¼å¼\n      const detectedFormat = format === 'auto' ? this._detectFormat(url, text) : format;\n\n      switch (detectedFormat) {\n        case 'json':\n          const config = JSON.parse(text);\n          tokenizer = new JSONTokenizer(config);\n          break;\n\n        case 'wordpiece':\n          // WordPiece æ ¼å¼ (vocab.txt)\n          const vocab = text.split('\\n').filter(l => l.trim());\n          tokenizer = this._createWordPieceTokenizer(vocab);\n          break;\n\n        default:\n          throw new Error(`Unsupported tokenizer format: ${detectedFormat}`);\n      }\n\n      if (useCache) {\n        this.cache.set(url, tokenizer);\n      }\n\n      console.log(`âœ… Tokenizer loaded successfully (vocab size: ${tokenizer.vocabSize})`);\n\n      return tokenizer;\n    } catch (error) {\n      console.error(`âŒ Failed to load tokenizer:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * ä»é…ç½®å¯¹è±¡åˆ›å»º tokenizer\n   * @param {object} config - tokenizer é…ç½®\n   * @param {string} type - tokenizer ç±»å‹\n   * @returns {ITokenizer}\n   */\n  createFromConfig(config, type = 'json') {\n    switch (type) {\n      case 'json':\n        return new JSONTokenizer(config);\n      default:\n        throw new Error(`Unsupported tokenizer type: ${type}`);\n    }\n  }\n\n  /**\n   * æ£€æµ‹ tokenizer æ ¼å¼\n   * @private\n   */\n  _detectFormat(url, content) {\n    if (url.endsWith('.json') || content.trim().startsWith('{')) {\n      return 'json';\n    }\n    if (url.endsWith('.txt') || url.includes('vocab')) {\n      return 'wordpiece';\n    }\n    return 'json'; // é»˜è®¤\n  }\n\n  /**\n   * åˆ›å»º WordPiece tokenizer\n   * @private\n   */\n  _createWordPieceTokenizer(vocab) {\n    const vocabMap = {};\n    vocab.forEach((token, idx) => {\n      vocabMap[token] = idx;\n    });\n\n    return new JSONTokenizer({\n      model: { vocab: vocabMap }\n    });\n  }\n\n  /**\n   * æ¸…é™¤ç¼“å­˜\n   */\n  clearCache() {\n    this.cache.clear();\n  }\n}\n\n/**\n * å•ä¾‹å®ä¾‹\n */\nexport const tokenizerLoader = new TokenizerLoader();\n\n/**\n * ä¾¿æ·å‡½æ•°ï¼šä» URL åŠ è½½ tokenizer\n * @param {string} url\n * @param {object} options\n * @returns {Promise<ITokenizer>}\n */\nexport async function loadTokenizer(url, options) {\n  return tokenizerLoader.loadFromUrl(url, options);\n}\n\n/**\n * ä¾¿æ·å‡½æ•°ï¼šä»é…ç½®åˆ›å»º tokenizer\n * @param {object} config\n * @param {string} type\n * @returns {ITokenizer}\n */\nexport function createTokenizer(config, type = 'json') {\n  return tokenizerLoader.createFromConfig(config, type);\n}\n","/**\n * ONNX Web Framework - ç»Ÿä¸€å…¥å£\n * é›†æˆWeb Workerã€æ¨¡å‹ç¼“å­˜ã€é¢„å¤„ç†é’©å­å’Œ Tokenizer æ”¯æŒ\n */\n\nimport ONNXWebFramework from './onnx-web-framework.js';\n\n// ========== ä¸»çº¿ç¨‹ API (å‘åå…¼å®¹) ==========\nexport { ONNXWebFramework };\nexport default ONNXWebFramework;\n\n// ========== âœ¨ NEW: Worker API (v2.0.0) ==========\nexport {\n  createOnnxWorkerProxy,\n  ONNXWorkerProxy\n} from './worker-proxy.js';\n\nexport {\n  WorkerMessageType,\n  InitializeConfig,\n  LoadModelRequest,\n  RunInferenceRequest,\n  WorkerResponse,\n  ModelInfo,\n  TensorData\n} from './worker-types.js';\n\n// ========== âœ¨ NEW: Tokenizer API (v2.1.0) ==========\nexport {\n  ITokenizer,\n  JSONTokenizer,\n  TokenizerLoader,\n  tokenizerLoader,\n  loadTokenizer,\n  createTokenizer\n} from './tokenizer.js';"],"names":[],"mappings":"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"}